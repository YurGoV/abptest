{"version":3,"file":"static/js/990.da4fa237.chunk.js","mappings":"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","sources":["webpack://abptest/./src/pages/Home/home.module.css?7b1b","pages/Home/Home.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"input\":\"home_input__x8Mr-\",\"recentSearches\":\"home_recentSearches__cbuaA\",\"title__home\":\"home_title__home__eki5J\",\"resultSearches\":\"home_resultSearches__Gu9KT\",\"conteiner__resultSearches\":\"home_conteiner__resultSearches__rv01L\"};","import { API } from '../../services/api';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport styles from './home.module.css';\nimport Notiflix from 'notiflix';\n\nconst Home = () => {\n    const [search, setSearch] = useState('');\n    const [vinLists, setVinLists] = useState('');\n    // const [searchParams, setSearchParams] = useSearchParams();\n\n    const navigate = useNavigate();\n\n    // const location = useLocation()\n\n\n    const onChange = (evt) => {\n        setSearch(evt.target.value);\n        // setSearchParams({ filter: evt.target.value })\n    };\n\n    const searchVin = async () => {\n        try {\n            API.resetQuery();\n            API.setQuery(search);\n            const vin = await API.searchVin();\n            setVinLists(vin);\n            saveRecentSearches(search);\n            saveResultSearches(vin)\n        } catch (error) {\n            console.log(error);\n        }\n    };\n\n    useEffect(() => {\n        if (vinLists.length > 0) {\n            navigateToVariablesPage();\n        }\n    },);\n\n    const navigateToVariablesPage = () => {\n        navigate(\"variables\", { state: { vinLists: vinLists } });\n    };\n\n    const isInputValid = () => {\n        if (search.length > 17) {\n            return false;\n        }\n        const forbiddenChars = [\"!\", \"@\", \"#\", \"$\", \"%\"];\n        if (forbiddenChars.some((char) => search.includes(char))) {\n            return false;\n        }\n        return true;\n    };\n\n    const handleSearch = () => {\n        if (isInputValid()) {\n            searchVin();\n        } else {\n            Notiflix.Notify.failure('Invalid number or prohibited characters');\n        }\n    };\n\n    const retrieveRecentSearches = () => {\n        const storedSearches = localStorage.getItem('recentSearches');\n        return storedSearches ? JSON.parse(storedSearches) : [];\n    };\n\n    const saveRecentSearches = (searches) => {\n        const recentSearches = retrieveRecentSearches();\n        const updatedSearches = [search, ...recentSearches.slice(0, 4)];\n        localStorage.setItem('recentSearches', JSON.stringify(updatedSearches));\n    };\n\n    const retrieveResultSearches = () => {\n        const storedResult = localStorage.getItem('recentResult');\n        return storedResult ? JSON.parse(storedResult) : [];\n    };\n    const saveResultSearches = (vin) => {\n        const recentResult = retrieveResultSearches();\n        const updatedResult = [vin, ...recentResult.slice(0, 4)];\n        localStorage.setItem('recentResult', JSON.stringify(updatedResult));\n    };\n\n    const recentSearches = retrieveRecentSearches();\n    const recentResult = retrieveResultSearches()\n    return (\n        <div>\n            <input type=\"text\" onChange={onChange} className={styles.input} />\n            {search.length > 0 ? (\n                <button onClick={handleSearch}>Search</button>\n            ) : (\n                <button disabled>Search</button>\n            )}\n\n            <h2 className={styles.title__home}>Recent searches</h2>\n            {recentSearches.length > 0 && (\n                <ul className={styles.recentSearches}>\n                    {recentSearches.map((item, index) => (\n\n                        <li key={index}>\n                            {index + 1} - {item}\n                        </li>\n\n                    ))}\n                </ul>\n            )}\n            <h2 className={styles.title__home}>Description of recent search results</h2>\n            {recentResult.map((nestedArray, index) => (\n                <div key={index} className={styles.conteiner__resultSearches}>\n                    <ul className={styles.resultSearches}>\n                        {nestedArray.map((item, innerIndex) => (\n                            <li key={innerIndex}>\n                                {item.Value !== null\n                                    && <div>\n                                        {index + 1}:\n                                        <p>Variable: {item.Variable}</p>\n                                        <p>Value: {item.Value}</p>\n                                    </div>\n                                }\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            ))}\n\n        </div>\n    );\n};\n\nexport default Home;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://vpic.nhtsa.dot.gov/api/';\n\nexport const API = {\n  BASE_URL: 'https://vpic.nhtsa.dot.gov/api/',\n  query: [],\n\n  setQuery(query) {\n    API.query = query;\n  },\n\n  resetQuery() {\n    API.query = '';\n  },\n\n  async searchVin() {\n    const url = `${this.BASE_URL}vehicles/decodevin/${this.query}?format=json`;\n    const response = await axios.get(url);\n    return response.data.Results;\n  },\n\n  async getVehicleVeriablesList() {\n    const url = `${this.BASE_URL}vehicles/getvehiclevariablelist?format=json`;\n    const response = await axios.get(url);\n    return response.data.Results;\n  },\n\n  //   async getDetails() {\n  //     const urlDetails = `${this.BASE_URL}movie/${this.movieId}?api_key=${this.API_KEY}`;\n  //     const response = await axios.get(urlDetails);\n  //     return response.data;\n  //   },\n\n  //   async getCast() {\n  //     const urlCast = `${this.BASE_URL}movie/${this.movieId}/credits?api_key=${this.API_KEY}`;\n  //     const response = await axios.get(urlCast);\n  //     return response.data.cast;\n  //   },\n\n  //   async getRevies() {\n  //     const urlReviews = `${this.BASE_URL}movie/${this.movieId}/reviews?api_key=${this.API_KEY}`;\n  //     const response = await axios.get(urlReviews);\n  //     return response.data.results;\n  //   },\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","search","setSearch","_useState3","_useState4","vinLists","setVinLists","navigate","useNavigate","searchVin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","vin","wrap","_context","prev","next","API","sent","saveRecentSearches","saveResultSearches","t0","console","log","stop","apply","arguments","useEffect","length","navigateToVariablesPage","state","retrieveRecentSearches","storedSearches","localStorage","getItem","JSON","parse","searches","recentSearches","updatedSearches","concat","_toConsumableArray","slice","setItem","stringify","retrieveResultSearches","storedResult","recentResult","updatedResult","_jsxs","children","_jsx","type","onChange","evt","target","value","className","styles","onClick","some","char","includes","Notiflix","disabled","map","item","index","nestedArray","innerIndex","Value","Variable","axios","BASE_URL","query","setQuery","resetQuery","_this","url","response","abrupt","data","Results","getVehicleVeriablesList","_this2","_callee2","_context2"],"sourceRoot":""}